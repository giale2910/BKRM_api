{"version":3,"sources":["../../../src/hooks/usePluginIsActive.ts","../../../src/hooks/useCurrentNodeDataWithPlugin.ts","../../../../src/pluginFactories/components/UniformsControls.tsx","../../../src/components/PluginControls.tsx","../../../src/components/ConditionalWrapper.tsx","../../../src/components/ToolbarButton.tsx","../../../src/components/PluginButton.tsx","../../../src/hooks/usePluginIsDisabled.ts","../node_modules/react-portal/es/utils.js","../node_modules/react-portal/es/Portal.js","../node_modules/react-portal/es/LegacyPortal.js","../node_modules/react-portal/es/PortalCompat.js","../../../src/hooks/useTextIsSelected.ts","../../../src/components/HoverButtons.tsx","../node_modules/@material-ui/icons/Done.js"],"names":["props","removePlugin","e","canUseDOM","window","document","createElement","_createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","Portal","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","subClass","superClass","create","constructor","value","setPrototypeOf","_inherits","defaultNode","body","removeChild","node","appendChild","ReactDOM","createPortal","children","React","Component","propTypes","PropTypes","isRequired","any","renderPortal","unmountComponentAtNode","portal","type","cloneElement","unstable_renderSubtreeIntoContainer","Portalv4","LegacyPortal","_interopRequireDefault","require","_interopRequireWildcard","exports","default","_default","d"],"mappings":"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","file":"static/js/13.8a464383.chunk.js","sourcesContent":["import useCurrentNodeWithPlugin from './useCurrentNodeWithPlugin';\nexport default (function (plugin) {\n    var nodeEntry = useCurrentNodeWithPlugin(plugin);\n    return Boolean(nodeEntry);\n});\n//# sourceMappingURL=usePluginIsActive.js.map","import { useSlate } from 'slate-react';\nimport { getCurrentNodeWithPlugin } from './useCurrentNodeWithPlugin';\nexport var getCurrentNodeDataWithPlugin = function (editor, plugin) {\n    var currentNodeEntry = getCurrentNodeWithPlugin(editor, plugin);\n    if (currentNodeEntry) {\n        var currentNode = currentNodeEntry[0];\n        if (plugin.pluginType === 'component' && plugin.object === 'mark') {\n            return currentNode[plugin.type];\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var data = currentNode.data;\n        return data;\n    }\n    else if (plugin.getInitialData) {\n        return plugin.getInitialData();\n    }\n    else {\n        return {};\n    }\n};\nexport default (function (plugin) {\n    var editor = useSlate();\n    return getCurrentNodeDataWithPlugin(editor, plugin);\n});\n//# sourceMappingURL=useCurrentNodeDataWithPlugin.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Dialog, DialogActions, DialogContent } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { makeUniformsSchema, AutoForm, AutoFields } from '@react-page/editor';\nimport React, { useCallback, useRef, useState } from 'react';\nfunction Controls(props) {\n    var uniformsSchema = props.schema\n        ? makeUniformsSchema(props.schema)\n        : null;\n    var hasSchema = Boolean(props.schema);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var formRef = useRef();\n    var _a = __read(useState(null), 2), text = _a[0], setText = _a[1];\n    var onCancel = function () {\n        props.close();\n    };\n    var saveAndCloseWithData = useCallback(function (data) {\n        props.close();\n        if (props.shouldInsertWithText) {\n            props.add({ text: text, data: data });\n        }\n        else {\n            props.add({ data: data });\n        }\n    }, [props.shouldInsertWithText, text]);\n    var submitForm = useCallback(function () {\n        if (formRef.current) {\n            formRef.current.submit();\n        }\n    }, [formRef.current]);\n    var onOkClick = useCallback(function () {\n        if (uniformsSchema) {\n            submitForm();\n        }\n        else {\n            saveAndCloseWithData({});\n        }\n    }, [submitForm, saveAndCloseWithData, hasSchema]);\n    var onRemove = function () {\n        props.remove();\n        props.close();\n    };\n    return (React.createElement(Dialog, { disableEnforceFocus: true, PaperProps: {\n            style: { minWidth: 300 },\n        }, open: props.open },\n        React.createElement(DialogContent, null,\n            !props.shouldInsertWithText ? null : (React.createElement(\"div\", null,\n                React.createElement(TextField, { autoFocus: true, placeholder: 'Text', onChange: function (e) { return setText(e.target.value); }, value: text }))),\n            hasSchema ? (React.createElement(AutoForm, { ref: formRef, model: props.data, schema: uniformsSchema, onSubmit: saveAndCloseWithData },\n                React.createElement(AutoFields, null))) : null),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { variant: \"text\", onClick: onCancel, style: { marginRight: 'auto' } }, props.cancelLabel || 'Cancel'),\n            props.isActive ? (React.createElement(Button, { variant: \"contained\", color: \"secondary\", onClick: onRemove },\n                props.removeLabel || 'Remove',\n                React.createElement(DeleteIcon, { style: { marginLeft: 10 } }))) : null,\n            React.createElement(Button, { variant: \"contained\", color: \"primary\", onClick: onOkClick },\n                props.submitLabel || 'Ok',\n                React.createElement(DoneIcon, { style: { marginLeft: 10 } })))));\n}\nexport default Controls;\n//# sourceMappingURL=UniformsControls.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Range, Transforms } from 'slate';\nimport { useSlate } from 'slate-react';\nimport useAddPlugin from '../hooks/useAddPlugin';\nimport { getCurrentNodeDataWithPlugin } from '../hooks/useCurrentNodeDataWithPlugin';\nimport usePluginIsActive from '../hooks/usePluginIsActive';\nimport useRemovePlugin from '../hooks/useRemovePlugin';\nimport UniformsControls from '../pluginFactories/components/UniformsControls';\nimport { useSetDialogIsVisible } from './DialogVisibleProvider';\nfunction PluginControls(props) {\n    var _a, _b, _c, _d, _e;\n    var plugin = props.plugin;\n    var storedPropsRef = useRef();\n    var isVoid = plugin.pluginType === 'component' &&\n        (plugin.object === 'inline' || plugin.object === 'block') &&\n        plugin.isVoid;\n    var shouldInsertWithText = !isVoid &&\n        (!((_a = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _a === void 0 ? void 0 : _a.selection) ||\n            Range.isCollapsed((_b = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _b === void 0 ? void 0 : _b.selection)) &&\n        !((_c = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _c === void 0 ? void 0 : _c.isActive);\n    var addPlugin = useAddPlugin(plugin);\n    var removePlugin = useRemovePlugin(plugin);\n    var editor = useSlate();\n    var setIsVisible = useSetDialogIsVisible();\n    var _f = __read(useState(false), 2), _open = _f[0], _setOpen = _f[1];\n    var isActive = usePluginIsActive(plugin);\n    useEffect(function () {\n        // this is to indicate that any dialog is visible\n        setIsVisible(props.open);\n        _setOpen(props.open);\n        if (props.open) {\n            // we need to store the current state, when the dialog will open (but before it actually does)\n            // this is also why we have a \"delayed\" _setOpen\n            storedPropsRef.current = {\n                selection: editor.selection,\n                isActive: isActive,\n                data: getCurrentNodeDataWithPlugin(editor, plugin),\n            };\n        }\n        return function () {\n            setIsVisible(false);\n        };\n    }, [props.open, setIsVisible, _setOpen]);\n    var controls = plugin.controls;\n    var Controls = controls\n        ? controls.type === 'autoform'\n            ? function (props) { return React.createElement(UniformsControls, __assign({}, props, { schema: controls === null || controls === void 0 ? void 0 : controls.schema })); }\n            : controls.Component\n        : UniformsControls;\n    var add = useCallback(function (p) {\n        var _a, _b;\n        if ((_a = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _a === void 0 ? void 0 : _a.selection) {\n            // restore selection before adding\n            Transforms.select(editor, (_b = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _b === void 0 ? void 0 : _b.selection);\n        }\n        addPlugin(p);\n    }, [addPlugin]);\n    var remove = useCallback(function () {\n        // see https://github.com/ianstormtaylor/slate/issues/4240\n        setTimeout(function () {\n            var _a, _b;\n            if ((_a = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _a === void 0 ? void 0 : _a.selection) {\n                // restore selection before removing\n                Transforms.select(editor, (_b = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _b === void 0 ? void 0 : _b.selection);\n            }\n            removePlugin();\n        }, 100);\n    }, [removePlugin]);\n    return props.open ? (React.createElement(Controls, __assign({ pluginConfig: plugin, close: close, open: true, add: add, remove: remove, isActive: (_d = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _d === void 0 ? void 0 : _d.isActive, shouldInsertWithText: shouldInsertWithText, data: (_e = storedPropsRef === null || storedPropsRef === void 0 ? void 0 : storedPropsRef.current) === null || _e === void 0 ? void 0 : _e.data }, props))) : null;\n}\nexport default React.memo(PluginControls);\n//# sourceMappingURL=PluginControls.js.map","export var ConditionalWrapper = function (_a) {\n    var condition = _a.condition, wrapper = _a.wrapper, children = _a.children;\n    return condition ? wrapper(children) : children;\n};\n//# sourceMappingURL=ConditionalWrapper.js.map","import { lazyLoad } from '@react-page/editor';\nimport React from 'react';\nimport { ConditionalWrapper } from './ConditionalWrapper';\nvar IconButton = lazyLoad(function () { return import('@material-ui/core/IconButton'); });\nvar Tooltip = lazyLoad(function () { return import('@material-ui/core/Tooltip'); });\nvar ToolbarButton = function (_a) {\n    var icon = _a.icon, isActive = _a.isActive, onClick = _a.onClick, _b = _a.disabled, disabled = _b === void 0 ? false : _b, _c = _a.toolTip, toolTip = _c === void 0 ? '' : _c;\n    return (React.createElement(ConditionalWrapper, { condition: !disabled, wrapper: function (children) { return React.createElement(Tooltip, { title: toolTip }, children); } },\n        React.createElement(IconButton, { onMouseDown: onClick, style: isActive\n                ? { color: 'rgb(0, 188, 212)' }\n                : disabled\n                    ? { color: 'gray' }\n                    : { color: 'white' }, disabled: disabled }, icon)));\n};\nexport default React.memo(ToolbarButton);\n//# sourceMappingURL=ToolbarButton.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useUiTranslator } from '@react-page/editor';\nimport React, { useCallback, useState } from 'react';\nimport { Range } from 'slate';\nimport useAddPlugin from '../hooks/useAddPlugin';\nimport usePluginIsActive from '../hooks/usePluginIsActive';\nimport usePluginIsDisabled from '../hooks/usePluginIsDisabled';\nimport useRemovePlugin from '../hooks/useRemovePlugin';\nimport { useSlate } from 'slate-react';\nimport PluginControls from './PluginControls';\nimport ToolbarButton from './ToolbarButton';\nfunction PluginButton(props) {\n    var plugin = props.plugin;\n    var t = useUiTranslator().t;\n    var hasControls = Boolean(plugin.controls);\n    var _a = __read(useState(false), 2), showControls = _a[0], setShowControls = _a[1];\n    var editor = useSlate();\n    var isActive = usePluginIsActive(plugin);\n    var shouldInsertWithText = plugin.pluginType === 'component' &&\n        (plugin.object === 'inline' || plugin.object === 'mark') &&\n        (!editor.selection || Range.isCollapsed(editor.selection)) &&\n        !isActive;\n    var add = useAddPlugin(plugin);\n    var remove = useRemovePlugin(plugin);\n    var close = useCallback(function () { return setShowControls(false); }, [setShowControls]);\n    var onClick = React.useCallback(function (e) {\n        e.preventDefault();\n        if (hasControls || shouldInsertWithText) {\n            setShowControls(!showControls);\n        }\n        else {\n            if (isActive) {\n                remove();\n            }\n            else {\n                add();\n            }\n        }\n    }, [isActive, hasControls, showControls, shouldInsertWithText]);\n    var isDisabled = usePluginIsDisabled(plugin);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ToolbarButton, { onClick: onClick, disabled: isDisabled, isActive: isActive, icon: plugin.icon ||\n                (plugin.pluginType === 'component' && plugin.deserialize.tagName), toolTip: t(plugin.label) }),\n        (hasControls || shouldInsertWithText) && showControls ? (React.createElement(PluginControls, __assign({ plugin: plugin }, props, { open: showControls, close: close }))) : null));\n}\nexport default React.memo(PluginButton);\n//# sourceMappingURL=PluginButton.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useState } from 'react';\nimport { useSlate } from 'slate-react';\nexport default (function (plugin) {\n    try {\n        var editor = useSlate();\n        var _a = __read(useState(true), 2), disabled = _a[0], setDisabled_1 = _a[1];\n        if (!editor) {\n            return true;\n        }\n        if (plugin.isDisabled) {\n            plugin.isDisabled(editor).then(function (d) { return setDisabled_1(d); });\n            return disabled;\n        }\n        else {\n            return false;\n        }\n    }\n    catch (e) {\n        // slate sometimes throws when dom node cant be found in undo\n        return false;\n    }\n});\n//# sourceMappingURL=usePluginIsDisabled.js.map","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { canUseDOM } from './utils';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// This file is a fallback for a consumer who is not yet on React 16\n// as createPortal was introduced in React 16\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props) {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n      this.portal = null;\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal(props) {\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      var children = this.props.children;\n      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n      if (typeof this.props.children.type === 'function') {\n        children = React.cloneElement(this.props.children);\n      }\n\n      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nexport default Portal;\n\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};","import ReactDOM from 'react-dom';\n\nimport Portalv4 from './Portal';\nimport LegacyPortal from './LegacyPortal';\n\nvar Portal = void 0;\n\nif (ReactDOM.createPortal) {\n  Portal = Portalv4;\n} else {\n  Portal = LegacyPortal;\n}\n\nexport default Portal;","import { Editor } from 'slate';\nimport { useSlate } from 'slate-react';\nvar useTextIsSelected = function () {\n    var editor = useSlate();\n    try {\n        return (Boolean(editor.selection) &&\n            Editor.string(editor, editor.selection) !== '');\n    }\n    catch (e) {\n        // can in some cases throw currently\n        return false;\n    }\n};\nexport default useTextIsSelected;\n//# sourceMappingURL=useTextIsSelected.js.map","import React, { useEffect, useRef } from 'react';\nimport { Portal } from 'react-portal';\nimport { useSlate } from 'slate-react';\nimport useTextIsSelected from '../hooks/useTextIsSelected';\nimport PluginButton from './PluginButton';\nvar HoverButtons = function (_a) {\n    var plugins = _a.plugins, translations = _a.translations;\n    var showHoverToolbar = useTextIsSelected();\n    var toolbarRef = useRef();\n    var editor = useSlate();\n    useEffect(function () {\n        var toolbar = toolbarRef.current;\n        if (!showHoverToolbar) {\n            return;\n        }\n        var s = window.getSelection();\n        try {\n            var oRange = s.getRangeAt(0); // get the text range\n            var oRect = oRange.getBoundingClientRect();\n            if (oRect) {\n                var left = oRect.left, top_1 = oRect.top, width = oRect.width;\n                toolbar.style.opacity = '1';\n                toolbar.style.top = top_1 + window.scrollY - toolbar.offsetHeight + \"px\";\n                toolbar.style.left = left + window.scrollX - toolbar.offsetWidth / 2 + width / 2 + \"px\";\n            }\n        }\n        catch (e) {\n            // ignore\n        }\n    }, [editor, showHoverToolbar]);\n    return (React.createElement(Portal, null,\n        React.createElement(\"div\", { className: 'react-page-plugins-content-slate-inline-toolbar ' +\n                (showHoverToolbar\n                    ? ''\n                    : 'react-page-plugins-content-slate-inline-toolbar--hidden'), style: { padding: 0 }, ref: toolbarRef }, plugins &&\n            plugins.map(function (plugin, i) {\n                return plugin.addHoverButton ? (React.createElement(PluginButton, { translations: translations, key: i, plugin: plugin })) : null;\n            }))));\n};\nexport default HoverButtons;\n//# sourceMappingURL=HoverButtons.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');\n\nexports.default = _default;"],"sourceRoot":""}